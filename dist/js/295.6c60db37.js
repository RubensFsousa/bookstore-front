"use strict";(self["webpackChunkbookstore_front"]=self["webpackChunkbookstore_front"]||[]).push([[295],{2087:function(e,t,i){i.r(t),i.d(t,{default:function(){return $}});var s=i(998),r=function(){var e=this,t=e._self._c;return t(s.Z,{attrs:{id:"app"}},[t("Publisher")],1)},a=[],l=i(6190),o=i(4145),d=i(4886),n=i(266),c=i(2118),u=i(3863),h=i(9930),b=i(4324),m=i(1713),f=i(7423),p=i(3687),x=i(7808),Z=i(2082),k=function(){var e=this,t=e._self._c;return t(c.Z,{attrs:{id:"editoraPage"}},[t(m.Z,[t(n.Z,[t(f.Z,{attrs:{rounded:"xl",color:"#1f1f1f"}},[t(o.Z,{attrs:{rounded:"xl",elevation:"7",id:"procurar"}},[t(d.EB,[e._v(" Editora "),t(p.Z),t(x.Z,{attrs:{"append-icon":"mdi-magnify",label:"Procurar",color:"#ff0024","single-line":"","hide-details":"",dark:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(u.Z,{attrs:{id:"dados",headers:e.headers,items:e.publishers,"items-per-page":5,search:e.search,dark:""},scopedSlots:e._u([{key:"item.acoes",fn:function({item:i}){return[t(Z.Z,{attrs:{top:"",color:"#ff0010"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(l.Z,e._g(e._b({attrs:{color:"white",text:"",small:"",rounded:""},on:{click:function(t){return e.showItem(i)}}},"v-btn",r,!1),s),[t(b.Z,{attrs:{dark:""}},[e._v(" mdi-pencil ")])],1)]}}],null,!0)},[t("span",[e._v("Editar")])]),t(Z.Z,{attrs:{top:"",color:"#ff0010"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(l.Z,e._g(e._b({attrs:{color:"white",text:"",small:"",rounded:""},on:{click:function(t){return e.deleteItem(i)}}},"v-btn",r,!1),s),[t(b.Z,{attrs:{dark:""}},[e._v(" mdi-delete ")])],1)]}}],null,!0)},[t("span",[e._v("Remover")])])]}}])})],1)],1)],1)],1),t(m.Z,{attrs:{justify:"center"}},[t(h.Z,{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t(l.Z,e._g(e._b({attrs:{color:"#FF0010",dark:""}},"v-btn",s,!1),i),[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}}),t(p.Z),e._v(" Nova Editora ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(o.Z,{attrs:{id:"editora-nova"}},[t(d.EB,[t("span",{staticClass:"text-h5"},[e._v("Editora Info ")])]),t(d.ZB,[t(c.Z,[t(m.Z,[t(n.Z,{attrs:{cols:"12"}},[t(x.Z,{attrs:{label:"Nome da editora","append-icon":"mdi-book",color:"#ff0025",rules:[e.rules.required,e.rules.max,e.rules.min],counter:30,dark:""},model:{value:e.publisher.name,callback:function(t){e.$set(e.publisher,"name",t)},expression:"publisher.name"}})],1),t(n.Z,{attrs:{cols:"12"}},[t(x.Z,{attrs:{label:"Cidade","append-icon":"mdi-city-variant",color:"#ff0025",rules:[e.rules.required,e.rules.max,e.rules.min],counter:30,dark:""},model:{value:e.publisher.city,callback:function(t){e.$set(e.publisher,"city",t)},expression:"publisher.city"}})],1)],1)],1)],1),t(d.h7,[t(p.Z),t(l.Z,{attrs:{color:"#ff0010",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar ")]),t(l.Z,{attrs:{color:"#ff0010",text:""},on:{click:this.createPublisher}},[e._v(" Salvar ")])],1)],1)],1)],1),t(m.Z,{attrs:{justify:"center"}},[t(h.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[t(o.Z,{attrs:{id:"editora-edit"}},[t(d.EB,[t("span",{staticClass:"text-h5"},[e._v("Editora Info ")])]),t(d.ZB,[t(c.Z,[t(m.Z,[t(n.Z,{attrs:{cols:"12"}},[t(x.Z,{attrs:{label:"Nome da editora","append-icon":"mdi-book",color:"#ff0025",rules:[e.rules.required,e.rules.max,e.rules.min],counter:30,dark:""},model:{value:e.editedPublisher.name,callback:function(t){e.$set(e.editedPublisher,"name",t)},expression:"editedPublisher.name"}})],1),t(n.Z,{attrs:{cols:"12"}},[t(x.Z,{attrs:{label:"Cidade","append-icon":"mdi-city-variant",color:"#ff0025",rules:[e.rules.required,e.rules.max,e.rules.min],counter:30,dark:""},model:{value:e.editedPublisher.city,callback:function(t){e.$set(e.editedPublisher,"city",t)},expression:"editedPublisher.city"}})],1)],1)],1)],1),t(d.h7,[t(p.Z),t(l.Z,{attrs:{color:"#ff0025",text:""},on:{click:function(t){e.dialog2=!1}}},[e._v(" Cancelar ")]),t(l.Z,{attrs:{color:"#ff0025",text:""},on:{click:function(t){return e.updatePublisher()}}},[e._v(" Editar ")])],1)],1)],1)],1)],1)},g=[],v=(i(7658),i(9461)),P={data:()=>({publisher:{name:"",city:""},editedPublisher:{name:"",city:""},editIndex:-1,publishers:[],dialog:!1,dialog2:!1,search:"",rules:{required:e=>!!e||"Este campo é obrigatório.",max:e=>e.length<=30||"Máximo de 30 caracteres.",maxAutor:e=>e.length<=30||"Máximo de 35 caracteres.",min:e=>e.length>=3||"Mínimo de 3 caracteres.",minNumber:e=>e>=1||"No mínimo 1 é necessário."},headers:[{text:"ID",value:"id",class:"white--text"},{text:"NOME",value:"name",class:"white--text"},{text:"CIDADE",value:"city",class:"white--text"},{text:"",value:"acoes",sortable:!1}]}),mounted(){this.listTable()},methods:{listTable(){v.Z.getAllPublishers().then((e=>{this.publishers=e.data.content}))},createPublisher(){v.Z.createPublisher(this.publisher).then((()=>{this.listTable(),this.dialog=!1,this.publisher={name:"",city:""}})).catch((e=>{this.$swal({title:"Erro ao Atualizar Editora",text:e.response.data.message,icon:"error"})}))},updatePublisher(){console.log(this.editIndex,this.editedPublisher);let e={name:this.editedPublisher.name,city:this.editedPublisher.city};v.Z.updatePublisher(this.editIndex,e).then((()=>{this.listTable(),this.dialog2=!1}))},deletePublisher(){v.Z.deletePublisher(this.editedIndex).then((()=>this.listTable()))},showItem(e){this.editIndex=e.id,this.editedPublisher=Object.assign({},e),this.dialogDelete=!0,this.dialog2=!0},editItem(e){this.editIndex=e.id,this.editedPublisher=Object.assign({},e)},deleteItem(e){this.editedIndex=e.id,this.editedBook=Object.assign({},e),this.dialogDelete=!0,this.deletePublisher()},deleteItemConfirm(){this.books.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedBook=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedBook=Object.assign({},this.defaultItem),this.editedIndex=-1}))},save(){this.editedIndex>-1?Object.assign(this.books[this.editedIndex],this.editedBook):this.books.push(this.editedBook),this.close()}}},_=P,I=i(1001),y=(0,I.Z)(_,k,g,!1,null,null,null),E=y.exports,w={data:()=>({}),components:{Publisher:E}},B=w,C=(0,I.Z)(B,r,a,!1,null,null,null),$=C.exports},9461:function(e,t,i){var s=i(1104);t["Z"]={getAllPublishers:()=>s.d.get("Publisher"),getOnePublisher:e=>s.d.get(`Publisher/${e}`),createPublisher:e=>s.d.post("Publisher",e),updatePublisher:(e,t)=>s.d.put(`Publisher/${e}`,t),deletePublisher:e=>s.d["delete"](`Publisher/${e}`)}}}]);
//# sourceMappingURL=295.6c60db37.js.map